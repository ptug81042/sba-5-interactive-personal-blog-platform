<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>My Personal Blog</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main role="main" aria-label="Personal blog platform">
    <header>
      <h1>My Personal Blog</h1>
      <p id="welcomeMessage" aria-live="polite"></p>
      <button id="toggleThemeBtn" aria-pressed="false" aria-label="Toggle dark mode">ðŸŒ™ Dark Mode</button>
    </header>

    <div class="content-wrapper">
      <form id="journalForm" autocomplete="off" aria-describedby="formInstructions" novalidate>
        <p id="formInstructions">Create a new post or edit an existing one. Title, content, and optional tags required.</p>

        <!-- title -->
        <div class="form-group">
          <label for="journalTitleInput">Post Title<span aria-hidden="true">*</span></label>
          <input type="text" id="journalTitleInput" required aria-describedby="titleError" />
          <span id="titleError" class="error-message" aria-live="assertive"></span>
        </div>

        <!-- content -->
        <div class="form-group">
          <label>Post Content<span aria-hidden="true">*</span></label>
          <div id="richTextEditor" contenteditable="true" role="textbox" aria-required="true"></div>
          <textarea id="journalContentInput" hidden required></textarea>
          <span id="contentError" class="error-message" aria-live="assertive"></span>
        </div>

        <!-- tags -->
        <div class="form-group">
          <label for="journalTagsInput">Tags (comma separated)</label>
          <input type="text" id="journalTagsInput" placeholder="e.g. ideas, travel" />
        </div>

        <!-- toolbar -->
        <div id="toolbar" role="toolbar">
          <button type="button" data-command="bold"><b>B</b></button>
          <button type="button" data-command="italic"><i>I</i></button>
          <button type="button" data-command="underline"><u>U</u></button>
          <button type="button" data-command="insertOrderedList">1.</button>
          <button type="button" data-command="insertUnorderedList">&bull;</button>
        </div>

        <!-- buttons -->
        <div class="form-actions">
          <button type="submit" id="saveJournalBtn">Publish Entry</button>
          <button type="button" id="abortEditBtn" style="display:none;">Cancel Edit</button>
          <button type="button" id="exportBtn">Export Posts</button>
          <button type="button" id="importBtn">Import Posts</button>
          <input type="file" id="importFileInput" accept="application/json" hidden />
        </div>
        <div id="journalErrorMsg" class="error-message" aria-live="assertive"></div>
      </form>

      <section id="postsSection" aria-label="Blog posts">
        <h2>All Entries</h2>
        <div id="journalEntriesContainer" role="list" tabindex="0"></div>
        <p id="noEntriesMsg">No journal entries yet. Start by publishing your thoughts above!</p>
      </section>
    </div>
  </main>

  <script type="module" src="script.js"></script>
</body>
</html>
